angular.module("sap.imageloader",[]).factory("ImageLoader",["$q",function(r){return{loadImages:function(e,o){o="undefined"!=typeof o?o:"src";try{var a=[];if(!Array.isArray(e))throw new TypeError("No image list provided");for(var n=0;n<e.length;n++){var c=this.loadImage(e[n],o);a.push(c)}return r.all(a)}catch(t){console.error(t)}},loadImage:function(e,o){o="undefined"!=typeof o?o:"src";var a=r.defer(),n=new Image;n.onload=function(){"object"==typeof e?e[o]=n.src:"string"==typeof e&&(e=n.src),a.resolve(e)};try{if("object"==typeof e)n.src=e[o];else{if("string"!=typeof e)throw new TypeError("No image provided");n.src=e}}catch(c){a.reject(c),console.error(c)}return a.promise}}}]).directive("loadedImage",["ImageLoader",function(r){return{scope:{src:"&src"},link:function(r,e,o){var a=new Image;for(var n in o)"src"!==n&&("class"===n?a.className=o["class"]:a[n]=o[n]);a.onload=function(){e.append(a)},a.src=r.src()}}}]);